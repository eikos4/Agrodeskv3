{% extends "base.html" %}
{% block title %}Parcela{% endblock %}
{% block content %}
<div class="container py-4">
  <div class="card shadow border-0">
    <div class="card-header bg-success text-white">
      <h5 class="mb-0"><i class="bi bi-bounding-box me-2"></i> {{ 'Editar Parcela' if parcela else 'Nueva Parcela' }}</h5>
    </div>
    <div class="card-body">
      <form method="POST" autocomplete="off">
        {{ form.hidden_tag() }}
        <div class="row g-3">
          <div class="col-md-6">
            {{ form.nombre.label(class_="form-label") }}
            {{ form.nombre(class_="form-control", placeholder="Ej: Cuartel Norte") }}
          </div>
          <div class="col-md-6">
            {{ form.huerto_id.label(class_="form-label") }}
            {{ form.huerto_id(class_="form-select") }}
          </div>
        </div>
        <div class="mt-3">
          {{ form.geom_geojson.label(class_="form-label") }}
          {{ form.geom_geojson(class_="form-control", placeholder="Pega aquí el GeoJSON del polígono", rows="5") }}
          <div class="form-text">Puedes pegar el GeoJSON desde el mapa con Leaflet Draw.</div>
        </div>
        <div class="d-flex justify-content-end gap-2 mt-3">
          <a href="{{ url_for('geo_admin.parcelas_list') }}" class="btn btn-outline-secondary">Cancelar</a>
          <button class="btn btn-success">Guardar</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
